<template name="preSeriesStart">
    {{#if currentUser}}
        {{> topNav}}
        {{> preInspection}}
    {{else}}
        {{> login}}
    {{/if}}
</template>

<template name="preInspection">
    <div>
        <div id="logo">
            <img src="claas_logo.png" />
        </div>
        <br>
        <nav class="mainLayout">
            <a class="btn" href="/checkList">Checklist</a>
            <a>|</a>
            <a class="btn" href="/pdiRepairList">Review Repair List</a>
            <a>|</a>
            <a class="btn" href="/si">SI's or special Item's </a>
            <a>|</a>
            <a class="btn" href="/variants">Variants Viewer</a>
            <a>|</a>
            <a class="btn" href="/dropDownList">Component Lists</a>
            <a>|</a>
            <a class="btn" href="/preSeriesCheck">Pre Series Check Lists</a>
        </nav>
        <div class="overviewHeader">
            Open pre series checks : {{countPreCheck}}
        </div>
        <div class="pdiButton">
            <button class="btn btn-default startCheck">Perform Check</button>
            <button class="btn btn-default cancelPreCheck">Cancel Check</button>
            <button class="btn btn-default joinPreCheck">Join Check</button>
            <form class="fileContainer">
                <button class="btn btn-default">Load config</button>
                <input class="loadConfig" type="file" id="files" name="files[]" >
            </form>
            <form class="submitPre">
                <button class="btn btn-default btn-success">Submit Machine number</button>
                <input type="text" id="preMachine">
            </form>
        </div>

        <table class="preTable blueTable tablePdiOverview" cellpadding="10">
            <thead>
                <tr>
                    <th class="pdiMachineField"><strong>Machine</strong></th>
                    <th class="pdiPDIField"><strong>PDI</strong></th>
                    <th class="pdiConfig"><strong>Config loaded</strong></th>
                    <th class="pdiConfig"><strong>Check points</strong></th>
                    <th class="pdiConfig"><strong>Check points found</strong></th>
                    <th class="pdiConfig"><strong>New issues</strong></th>
                </tr>
            </thead>
            <tbody>
            {{#each preCheckList}}
                <tr class="openPreInspect {{selectedClass}}">
                    <td class="pdiMachineField">{{machineNumber}}</td>

                    <td class="pdiPDIField {{getStatusColor pdiStatusId}}"
                        style="background-color:{{getStatusColor pdiStatusId}};
                                color:{{getStatusColor pdiStatusId}}">{{pdiStatusId}}</td>

                    <td class="pdiConfig {{getConfigColor configStatusId}}"
                        style="background-color:{{getConfigColor configStatusId}};
                                color:{{getConfigColor configStatusId}}">{{configStatusId}}</td>

                    <td class="pdiConfig">{{checkPointCount}}</td>
                    <td class="pdiConfig">{{checkItemIssue}}</td>
                    <td class="pdiConfig">{{newIssueCount}}</td>
                </tr>
            {{/each}}
            </tbody>
        </table>
    </div>
</template>


