<template name="machineLocation">
    {{#if currentUser}}
        {{> locationNav}}
        {{> pdiLocation}}
    {{else}}
        {{> login}}
    {{/if}}
</template>

<template name="locationNav">
    <div class="topNav">
        <nav>
            <a class="btn" href="/overViewUser">OverView</a>
            <a>|</a>
            <a class="btn" href="/machineSearch" disabled>Search by Machine</a>
            <a>|</a>
            <a class="btn" href="/wordSearch" disabled>Search by Key Word</a>
            <a>|</a>
            <a class="btn" href="/statistics" disabled>Statistics</a>
            <a>|</a>
            <a class="btn logout" href="/logout" >Logout</a>
        </nav>
    </div>
</template>

<template name="pdiLocation">
    <div id="logo">
        <img src="claas_logo.png" />
    </div>

    <form class="locationId">
        <button type="submit" class="machineUpdateLocation">Update Location</button>
        <label for="locationId" class="mLocationId" ></label>
        <input type="text" class="machineUpdateLocationInput" id="locationId" name="locationId" required>
    </form>
        <table class="blueTable locationTable">
          <thead>
            <tr>
              <th class="pdiOverviewMachine"><strong>Machine</strong></th>
              <th class="pdiShipDate"><strong>Shippdate</strong></th>
              <th class="pdiPDIField"><strong>PDI</strong></th>
              <th class="pdiRepField"><strong>Rep</strong></th>
              <th class="pdiWashField"><strong>Wash</strong></th>
              <th class="pdiShipField"><strong>Ship</strong></th>
              <th class="pdiLocation"><strong>Location</strong></th>
            </tr>
          </thead>
            <tbody>
        {{#each overView}}
            <tr class="locationUpdate {{selectedClass}}">
                <td class="pdiOverviewMachine">{{machineId}}</td>
                <td class="pdiShipDate">{{date}}</td>
                <td class="pdiPDIField {{getStatusColor pdiStatus}}" style="background-color:{{getStatusColor pdiStatus}}; color:{{getStatusColor pdiStatus}}" >{{pdiStatus}}</td>
                <td class="pdiRepField {{getStatusColor repairStatus}}" style="background-color:{{getStatusColor repairStatus}}; color:{{getStatusColor repairStatus}}" >{{repairStatus}}</td>
                <td class="pdiWashField {{getStatusColor washStatus}}" style="background-color:{{getStatusColor washStatus}}; color:{{getStatusColor washStatus}}" >{{washStatus}}</td>
                <td class="pdiShipField {{getStatusColor shipStatus}}" style="background-color:{{getStatusColor shipStatus}}; color:{{getStatusColor shipStatus}}" >{{shipStatus}}</td>
                <td class="pdiLocation" style="background-color: #6fd981">{{locationId}}</td>
            </tr>
        {{/each}}
            </tbody>
        </table>
</template>